<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Libro de Recetas</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1 id="pageTitle">Libro de Recetas</h1>
        <div class="language-selector">
            <select id="languageSelect" onchange="changeLanguage()">
                <option value="ro">Română</option>
                <option value="en">English</option>
                <option value="es" selected>Español</option>
            </select>
        </div>
    </header>
    <main>
        <div class="recipes-list">
            <h2 id="recipesTitle">Nuestras Recetas</h2>
            <div id="recipesContainer"></div>
        </div>
    </main>
    <footer>
        <p id="footerText">&copy; 2023 Libro de Recetas</p>
    </footer>
    <script>
        // Cargar datos desde data.json
        async function fetchRecipes() {
            try {
                const response = await fetch('data.json');
                const recipes = await response.json();
                renderRecipes(recipes);
            } catch (error) {
                console.error('Error al cargar las recetas:', error);
            }
        }

        // Traducciones
        const translations = {
            ro: {
                pageTitle: "Cartea de Retete",
                recipesTitle: "Retetele Noastre",
                footerText: "&copy; 2023 Cartea de Retete"
            },
            en: {
                pageTitle: "Recipe Book",
                recipesTitle: "Our Recipes",
                footerText: "&copy; 2023 Recipe Book"
            },
            es: {
                pageTitle: "Libro de Recetas",
                recipesTitle: "Nuestras Recetas",
                footerText: "&copy; 2023 Libro de Recetas"
            }
        };

        // Idioma predeterminado
        let currentLanguage = 'es';
        updateTexts();

        function changeLanguage() {
            currentLanguage = document.getElementById('languageSelect').value;
            updateTexts();
            renderRecipes(JSON.parse(localStorage.getItem('recipes')) || []);
        }

        function updateTexts() {
            const lang = translations[currentLanguage];
            document.getElementById('pageTitle').innerText = lang.pageTitle;
            document.getElementById('recipesTitle').innerText = lang.recipesTitle;
            document.getElementById('footerText').innerHTML = lang.footerText;
        }

        function renderRecipes(recipes) {
            const container = document.getElementById('recipesContainer');
            container.innerHTML = '';

            recipes.forEach(recipe => {
                const recipeDiv = document.createElement('div');
                recipeDiv.classList.add('recipe-item');
                recipeDiv.innerHTML = `
                    <h3>${recipe.name}</h3>
                    <p><strong>Ingredientes:</strong> ${recipe.ingredients.join(', ')}</p>
                    <p><strong>Instrucciones:</strong> ${recipe.instructions}</p>
                `;
                container.appendChild(recipeDiv);
            });
        }

        // Cargar las recetas al iniciar
        window.onload = fetchRecipes;
    </script>
</body>
</html>
